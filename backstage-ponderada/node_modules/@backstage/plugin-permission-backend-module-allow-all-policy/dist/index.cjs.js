'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var backendPluginApi = require('@backstage/backend-plugin-api');
var alpha = require('@backstage/plugin-permission-node/alpha');
var pluginPermissionCommon = require('@backstage/plugin-permission-common');

class AllowAllPermissionPolicy {
  async handle(_request, _user) {
    return {
      result: pluginPermissionCommon.AuthorizeResult.ALLOW
    };
  }
}

const permissionModuleAllowAllPolicy = backendPluginApi.createBackendModule({
  pluginId: "permission",
  moduleId: "allow-all-policy",
  register(reg) {
    reg.registerInit({
      deps: { policy: alpha.policyExtensionPoint },
      async init({ policy }) {
        policy.setPolicy(new AllowAllPermissionPolicy());
      }
    });
  }
});

exports.default = permissionModuleAllowAllPolicy;
//# sourceMappingURL=index.cjs.js.map
