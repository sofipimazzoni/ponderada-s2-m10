import express from 'express';
import { IdentityApi } from '@backstage/plugin-auth-node';
import { PermissionPolicy } from '@backstage/plugin-permission-node';
import { Config } from '@backstage/config';
import { LoggerService, DiscoveryService, AuthService, HttpAuthService, UserInfoService } from '@backstage/backend-plugin-api';

/**
 * Options required when constructing a new {@link express#Router} using
 * {@link createRouter}.
 *
 * @public
 */
interface RouterOptions {
    logger: LoggerService;
    discovery: DiscoveryService;
    policy: PermissionPolicy;
    identity?: IdentityApi;
    config: Config;
    auth?: AuthService;
    httpAuth?: HttpAuthService;
    userInfo?: UserInfoService;
}
/**
 * Creates a new {@link express#Router} which provides the backend API
 * for the permission system.
 *
 * @public
 */
declare function createRouter(options: RouterOptions): Promise<express.Router>;

export { type RouterOptions, createRouter };
