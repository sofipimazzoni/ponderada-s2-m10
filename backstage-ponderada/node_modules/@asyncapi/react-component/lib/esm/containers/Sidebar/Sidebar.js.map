{"version":3,"file":"Sidebar.js","sourceRoot":"","sources":["../../../../src/containers/Sidebar/Sidebar.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { CollapseButton } from '../../components';\nimport { useConfig, useSpec } from '../../contexts';\nimport { CommonHelpers } from '../../helpers';\nimport { PayloadType } from '../../types';\nimport { TagObject, filterObjectsByTags } from '../../helpers/sidebar';\n\nconst SidebarContext = React.createContext<{\n  setShowSidebar: React.Dispatch<React.SetStateAction<boolean>>;\n}>({\n  setShowSidebar: (value: boolean | ((prevValue: boolean) => boolean)) => value,\n});\n\nexport const Sidebar: React.FunctionComponent = () => {\n  const [showSidebar, setShowSidebar] = useState(false);\n  const asyncapi = useSpec();\n\n  const info = asyncapi.info();\n  const logo = info\n    .extensions()\n    .get('x-logo')\n    ?.value();\n  const components = asyncapi.components();\n  const messages = components?.messages().all();\n  const schemas = components?.schemas().all();\n  const hasOperations = asyncapi.operations().length > 0;\n\n  const messagesList = messages?.length > 0 && (\n    <li className=\"mb-3 mt-9\">\n      <a\n        className=\"text-xs uppercase text-gray-700 mt-10 mb-4 font-thin hover:text-gray-900\"\n        href=\"#messages\"\n        onClick={() => setShowSidebar(false)}\n      >\n        Messages\n      </a>\n      <ul className=\"text-sm mt-2\">\n        {messages.map((message, index) => (\n          <li key={`menu-message-list-${message.name() ?? index}`}>\n            <a\n              className=\"flex break-words no-underline text-gray-700 mt-2 hover:text-gray-900\"\n              href={`#message-${message.name()}`}\n              onClick={() => setShowSidebar(false)}\n            >\n              <div className=\"break-all inline-block\">{message.id()}</div>\n            </a>\n          </li>\n        ))}\n      </ul>\n    </li>\n  );\n\n  const schemasList = schemas?.length > 0 && (\n    <li className=\"mb-3 mt-9\">\n      <a\n        className=\"text-xs uppercase text-gray-700 mt-10 mb-4 font-thin hover:text-gray-900\"\n        href=\"#schemas\"\n        onClick={() => setShowSidebar(false)}\n      >\n        Schemas\n      </a>\n      <ul className=\"text-sm mt-2\">\n        {schemas.map((schema, index) => (\n          <li key={`menu-message-list-${schema.id() ?? index}`}>\n            <a\n              className=\"flex break-words no-underline text-gray-700 mt-2 hover:text-gray-900\"\n              href={`#schema-${schema.id()}`}\n              onClick={() => setShowSidebar(false)}\n            >\n              <div className=\"break-all inline-block\">{schema.id()}</div>\n            </a>\n          </li>\n        ))}\n      </ul>\n    </li>\n  );\n\n  const operationList = hasOperations && (\n    <>\n      <li className=\"mb-3 mt-9\">\n        <a\n          className=\"text-xs uppercase text-gray-700 mt-10 mb-4 font-thin hover:text-gray-900\"\n          href=\"#operations\"\n          onClick={() => setShowSidebar(false)}\n        >\n          Operations\n        </a>\n        <OperationsList />\n      </li>\n      {messagesList}\n      {schemasList}\n    </>\n  );\n\n  return (\n    <SidebarContext.Provider value={{ setShowSidebar }}>\n      <div\n        className=\"burger-menu rounded-full h-16 w-16 bg-white fixed bottom-16 right-8 flex items-center justify-center z-30 cursor-pointer shadow-md bg-teal-500\"\n        onClick={() => setShowSidebar(prev => !prev)}\n        data-lol={showSidebar}\n      >\n        <svg\n          viewBox=\"0 0 100 70\"\n          width=\"40\"\n          height=\"30\"\n          className=\"fill-current text-gray-200\"\n        >\n          <rect width=\"100\" height=\"10\" />\n          <rect y=\"30\" width=\"100\" height=\"10\" />\n          <rect y=\"60\" width=\"100\" height=\"10\" />\n        </svg>\n      </div>\n      <div\n        className={`${\n          showSidebar ? 'block fixed w-full' : 'hidden'\n        } sidebar relative w-64 max-h-screen h-full bg-gray-200 shadow z-20`}\n      >\n        <div\n          className={`${\n            showSidebar ? 'w-full' : ''\n          } block fixed max-h-screen h-full font-sans px-4 pt-8 pb-16 overflow-y-auto bg-gray-200`}\n        >\n          <div className=\"sidebar--content\">\n            <div>\n              {logo ? (\n                <img\n                  src={logo}\n                  alt={`${info.title()} logo, ${info.version()} version`}\n                />\n              ) : (\n                <h1 className=\"text-2xl font-light\">\n                  {info.title()} {info.version()}\n                </h1>\n              )}\n            </div>\n\n            <ul className=\"text-sm mt-10 relative\">\n              <li className=\"mb-3\">\n                <a\n                  className=\"text-gray-700 no-underline hover:text-gray-900\"\n                  href=\"#introduction\"\n                  onClick={() => setShowSidebar(false)}\n                >\n                  Introduction\n                </a>\n              </li>\n              {asyncapi.servers().length > 0 && (\n                <li className=\"mb-3 mt-9\">\n                  <a\n                    className=\"text-xs uppercase text-gray-700 mt-10 mb-4 font-thin hover:text-gray-900\"\n                    href=\"#servers\"\n                    onClick={() => setShowSidebar(false)}\n                  >\n                    Servers\n                  </a>\n                  <ServersList />\n                </li>\n              )}\n              {operationList}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </SidebarContext.Provider>\n  );\n};\n\nconst ServersList: React.FunctionComponent = () => {\n  const sidebarConfig = useConfig().sidebar;\n  const asyncapi = useSpec();\n  const servers = asyncapi.servers().all();\n  const showServers = sidebarConfig?.showServers ?? 'byDefault';\n\n  if (showServers === 'byDefault') {\n    return (\n      <ul className=\"text-sm mt-2\">\n        {servers.map(server => (\n          <ServerItem serverName={server.id()} key={server.id()} />\n        ))}\n      </ul>\n    );\n  }\n\n  let specTagNames: string[];\n  if (showServers === 'bySpecTags') {\n    specTagNames = (\n      asyncapi\n        .info()\n        .tags()\n        .all() ?? []\n    ).map(tag => tag.name());\n  } else {\n    const serverTagNamesSet = new Set<string>();\n    servers.forEach(server => {\n      server.tags().forEach(t => serverTagNamesSet.add(t.name()));\n    });\n    specTagNames = Array.from(serverTagNamesSet);\n  }\n\n  const serializedServers: TagObject[] = servers.map(server => ({\n    name: server.id(),\n    tags: server.tags(),\n    data: {},\n  }));\n  const { tagged, untagged } = filterObjectsByTags(\n    specTagNames,\n    serializedServers,\n  );\n  return (\n    <ul className=\"text-sm mt-2\">\n      {Array.from(tagged.entries()).map(([tag, taggedServers]) => (\n        <li key={tag}>\n          <ItemsByTagItem tagName={tag}>\n            {taggedServers.map(({ name: serverName }) => (\n              <ServerItem serverName={serverName} key={serverName} />\n            ))}\n          </ItemsByTagItem>\n        </li>\n      ))}\n      {untagged.length > 0 ? (\n        <li>\n          <ItemsByTagItem tagName=\"Untagged\">\n            {untagged.map(({ name: serverName }) => (\n              <ServerItem serverName={serverName} key={serverName} />\n            ))}\n          </ItemsByTagItem>\n        </li>\n      ) : null}\n    </ul>\n  );\n};\n\ninterface OperationItemProps {\n  label: string;\n  type: PayloadType;\n  operationHrefId: string;\n}\nconst OperationsList: React.FunctionComponent = () => {\n  const config = useConfig();\n  const sidebarConfig = config.sidebar;\n  const asyncapi = useSpec();\n  const operations = asyncapi.operations().all();\n  const showOperations = sidebarConfig?.showOperations ?? 'byDefault';\n\n  const processedOperations: Array<TagObject<\n    OperationItemProps\n  >> = operations.map(operation => {\n    const operationChannel = operation.channels();\n    const operationHrefId = CommonHelpers.getOperationIdentifier({\n      operation,\n      config,\n    });\n    const type = CommonHelpers.getOperationType(operation);\n\n    const specV = asyncapi.version();\n    const version = specV.localeCompare('2.6.0', undefined, { numeric: true });\n    let label: string = '';\n    if (version === 0) {\n      // old version uses different labels for the operations\n      const operationChannels = operationChannel.all();\n      const channelAddress = operationChannels[0]?.address();\n      label = operation.hasSummary()\n        ? operation.summary()!\n        : channelAddress ?? '';\n    } else {\n      label = operation.id()!;\n    }\n    return {\n      name: `${type}-${operation.id()}`,\n      tags: operation.tags(),\n      data: {\n        label,\n        type,\n        operationHrefId,\n      },\n    };\n  });\n\n  if (showOperations === 'byDefault') {\n    return (\n      <ul className=\"text-sm mt-2\">\n        {processedOperations.map(({ name, data }) => (\n          <OperationItem key={name} {...data} />\n        ))}\n      </ul>\n    );\n  }\n\n  let operationTagNames: string[];\n  if (showOperations === 'bySpecTags') {\n    operationTagNames = (\n      asyncapi\n        .info()\n        .tags()\n        .all() ?? []\n    ).map(tag => tag.name());\n  } else {\n    const operationTagNamesSet = new Set<string>();\n    operations.forEach(operation => {\n      operation\n        .tags()\n        .all()\n        .forEach(t => operationTagNamesSet.add(t.name()));\n    });\n    operationTagNames = Array.from(operationTagNamesSet);\n  }\n\n  const { tagged, untagged } = filterObjectsByTags(\n    operationTagNames,\n    processedOperations,\n  );\n  return (\n    <ul className=\"text-sm mt-2\">\n      {Array.from(tagged.entries()).map(([tag, taggedOperations]) => (\n        <li key={tag}>\n          <ItemsByTagItem tagName={tag}>\n            {taggedOperations.map(({ name, data }) => (\n              <OperationItem key={name} {...data} />\n            ))}\n          </ItemsByTagItem>\n        </li>\n      ))}\n      {untagged.length > 0 ? (\n        <li>\n          <ItemsByTagItem tagName=\"Untagged\">\n            {untagged.map(({ name, data }) => (\n              <OperationItem key={name} {...data} />\n            ))}\n          </ItemsByTagItem>\n        </li>\n      ) : null}\n    </ul>\n  );\n};\n\nconst OperationItem: React.FunctionComponent<OperationItemProps> = ({\n  type,\n  operationHrefId,\n  label,\n}) => {\n  const config = useConfig();\n  const { setShowSidebar } = useContext(SidebarContext);\n  const specV = useSpec().version();\n  const version = specV.localeCompare('2.6.0', undefined, { numeric: true });\n  const isAsyncAPIv2 = version === 0;\n  const {\n    typeLabel,\n    backgroundColor,\n  } = CommonHelpers.getOperationDesignInformation({\n    type,\n    config,\n    isAsyncAPIv2,\n  });\n\n  return (\n    <li key={`menu-operation-list-${operationHrefId}`}>\n      <a\n        className=\"flex no-underline text-gray-700 mb-2 hover:text-gray-900\"\n        href={`#${operationHrefId}`}\n        onClick={() => setShowSidebar(false)}\n      >\n        <span\n          className={`${backgroundColor} font-bold h-6 no-underline text-white uppercase p-1 mr-2 rounded text-xs`}\n          title={typeLabel}\n        >\n          {typeLabel}\n        </span>\n        <span className=\"break-all inline-block\">{label}</span>\n      </a>\n    </li>\n  );\n};\n\ninterface ServerItemProps {\n  serverName: string;\n}\n\nconst ServerItem: React.FunctionComponent<ServerItemProps> = ({\n  serverName,\n}) => {\n  const { setShowSidebar } = useContext(SidebarContext);\n\n  return (\n    <li>\n      <a\n        className=\"flex no-underline text-gray-700 mb-2 hover:text-gray-900\"\n        href={`#server-${serverName}`}\n        onClick={() => setShowSidebar(false)}\n      >\n        <span className=\"break-all inline-block\">{serverName}</span>\n      </a>\n    </li>\n  );\n};\n\ninterface ItemsByTagItemProps {\n  tagName: string;\n}\n\nconst ItemsByTagItem: React.FunctionComponent<ItemsByTagItemProps> = ({\n  tagName,\n  children,\n}) => {\n  const [expand, setExpand] = useState(false);\n\n  return (\n    <div>\n      <CollapseButton\n        onClick={() => setExpand(prev => !prev)}\n        chevronProps={{\n          className: expand ? '-rotate-180' : '-rotate-90',\n        }}\n      >\n        <span className=\"text-sm inline-block mt-1 font-extralight\">\n          {tagName}\n        </span>\n      </CollapseButton>\n      <ul className={`${expand ? 'block' : 'hidden'} text-sm mt-2 font-light`}>\n        {children}\n      </ul>\n    </div>\n  );\n};\n"]}