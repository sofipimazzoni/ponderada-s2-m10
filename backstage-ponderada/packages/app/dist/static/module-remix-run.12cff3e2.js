"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4538],{21613:(gn,lr,sr)=>{sr.d(lr,{AO:()=>oe,Gh:()=>Dt,HS:()=>Ee,Oi:()=>O,Rr:()=>ae,o1:()=>wt,pX:()=>Fe,pb:()=>_e,rc:()=>K,sC:()=>dr,tH:()=>rt,tW:()=>Pr,ue:()=>he,yD:()=>St,zR:()=>ur});/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}var K;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(K||(K={}));const ht="popstate";function dr(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((p,g)=>h(p,typeof p=="string"?null:p.state,g===0?"default":void 0));let s=c(r==null?a.length-1:r),i=K.Pop,u=null;function c(p){return Math.min(Math.max(p,0),a.length-1)}function b(){return a[s]}function h(p,g,y){g===void 0&&(g=null);let E=se(a?b().pathname:"/",p,g,y);return le(E.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(p)),E}function v(p){return typeof p=="string"?p:oe(p)}return{get index(){return s},get action(){return i},get location(){return b()},createHref:v,createURL(p){return new URL(v(p),"http://localhost")},encodeLocation(p){let g=typeof p=="string"?ae(p):p;return{pathname:g.pathname||"",search:g.search||"",hash:g.hash||""}},push(p,g){i=K.Push;let y=h(p,g);s+=1,a.splice(s,a.length,y),n&&u&&u({action:i,location:y,delta:1})},replace(p,g){i=K.Replace;let y=h(p,g);a[s]=y,n&&u&&u({action:i,location:y,delta:0})},go(p){i=K.Pop;let g=c(s+p),y=a[g];s=g,u&&u({action:i,location:y,delta:p})},listen(p){return u=p,()=>{u=null}}}}function ur(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:u}=n.location;return se("",{pathname:s,search:i,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:oe(a)}return mt(t,r,null,e)}function vn(e){e===void 0&&(e={});function t(a,s){let{pathname:i="/",search:u="",hash:c=""}=ae(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),se("",{pathname:i,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let i=a.document.querySelector("base"),u="";if(i&&i.getAttribute("href")){let c=a.location.href,b=c.indexOf("#");u=b===-1?c:c.slice(0,b)}return u+"#"+(typeof s=="string"?s:oe(s))}function n(a,s){le(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return mt(t,r,n,e)}function O(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function le(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch{}}}function fr(){return Math.random().toString(36).substr(2,8)}function pt(e,t){return{usr:e.state,key:e.key,idx:t}}function se(e,t,r,n){return r===void 0&&(r=null),U({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ae(t):t,{state:r,key:t&&t.key||n||fr()})}function oe(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ae(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function mt(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,u=K.Pop,c=null,b=h();b==null&&(b=0,i.replaceState(U({},i.state,{idx:b}),""));function h(){return(i.state||{idx:null}).idx}function v(){u=K.Pop;let E=h(),j=E==null?null:E-b;b=E,c&&c({action:u,location:y.location,delta:j})}function w(E,j){u=K.Push;let x=se(y.location,E,j);r&&r(x,E),b=h()+1;let M=pt(x,b),D=y.createHref(x);try{i.pushState(M,"",D)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(D)}s&&c&&c({action:u,location:y.location,delta:1})}function p(E,j){u=K.Replace;let x=se(y.location,E,j);r&&r(x,E),b=h();let M=pt(x,b),D=y.createHref(x);i.replaceState(M,"",D),s&&c&&c({action:u,location:y.location,delta:0})}function g(E){let j=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof E=="string"?E:oe(E);return x=x.replace(/ $/,"%20"),O(j,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,j)}let y={get action(){return u},get location(){return e(a,i)},listen(E){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ht,v),c=E,()=>{a.removeEventListener(ht,v),c=null}},createHref(E){return t(a,E)},createURL:g,encodeLocation(E){let j=g(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:p,go(E){return i.go(E)}};return y}var z;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(z||(z={}));const cr=new Set(["lazy","caseSensitive","path","id","index","children"]);function hr(e){return e.index===!0}function ke(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,s)=>{let i=[...r,s],u=typeof a.id=="string"?a.id:i.join("-");if(O(a.index!==!0||!a.children,"Cannot specify children on an index route"),O(!n[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),hr(a)){let c=U({},a,t(a),{id:u});return n[u]=c,c}else{let c=U({},a,t(a),{id:u,children:void 0});return n[u]=c,a.children&&(c.children=ke(a.children,t,i,n)),c}})}function he(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?ae(t):t,a=_e(n.pathname||"/",r);if(a==null)return null;let s=yt(e);mr(s);let i=null;for(let u=0;i==null&&u<s.length;++u){let c=Mr(a);i=Er(s[u],c)}return i}function pr(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function yt(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(O(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let b=Ee([n,c.relativePath]),h=r.concat(c);s.children&&s.children.length>0&&(O(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),yt(s.children,t,h,b)),!(s.path==null&&!s.index)&&t.push({path:b,score:Dr(b,s.index),routesMeta:h})};return e.forEach((s,i)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,i);else for(let c of gt(s.path))a(s,i,c)}),t}function gt(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=gt(n.join("/")),u=[];return u.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&u.push(...i),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function mr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Rr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yr=/^:[\w-]+$/,gr=3,vr=2,wr=1,br=10,Sr=-2,vt=e=>e==="*";function Dr(e,t){let r=e.split("/"),n=r.length;return r.some(vt)&&(n+=Sr),t&&(n+=vr),r.filter(a=>!vt(a)).reduce((a,s)=>a+(yr.test(s)?gr:s===""?wr:br),n)}function Rr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Er(e,t){let{routesMeta:r}=e,n={},a="/",s=[];for(let i=0;i<r.length;++i){let u=r[i],c=i===r.length-1,b=a==="/"?t:t.slice(a.length)||"/",h=xr({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},b);if(!h)return null;Object.assign(n,h.params);let v=u.route;s.push({params:n,pathname:Ee([a,h.pathname]),pathnameBase:jr(Ee([a,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(a=Ee([a,h.pathnameBase]))}return s}function Pr(e,t){t===void 0&&(t={});let r=e;r.endsWith("*")&&r!=="*"&&!r.endsWith("/*")&&(le(!1,'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".')),r=r.replace(/\*$/,"/*"));const n=r.startsWith("/")?"/":"",a=i=>i==null?"":typeof i=="string"?i:String(i),s=r.split(/\/+/).map((i,u,c)=>{if(u===c.length-1&&i==="*")return a(t["*"]);const h=i.match(/^:([\w-]+)(\??)$/);if(h){const[,v,w]=h;let p=t[v];return O(w==="?"||p!=null,'Missing ":'+v+'" param'),a(p)}return i.replace(/\?$/g,"")}).filter(i=>!!i);return n+s.join("/")}function xr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Lr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((b,h,v)=>{let{paramName:w,isOptional:p}=h;if(w==="*"){let y=u[v]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=u[v];return p&&!g?b[w]=void 0:b[w]=(g||"").replace(/%2F/g,"/"),b},{}),pathname:s,pathnameBase:i,pattern:e}}function Lr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),le(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Mr(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return le(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _e(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wt(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ae(e):e;return{pathname:r?r.startsWith("/")?r:Cr(r,t):t,search:Tr(n),hash:_r(a)}}function Cr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function tt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function St(e,t){let r=bt(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Dt(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ae(e):(a=U({},e),O(!a.pathname||!a.pathname.includes("?"),tt("?","pathname","search",a)),O(!a.pathname||!a.pathname.includes("#"),tt("#","pathname","hash",a)),O(!a.search||!a.search.includes("#"),tt("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,u;if(i==null)u=r;else{let v=t.length-1;if(!n&&i.startsWith("..")){let w=i.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}u=v>=0?t[v]:"/"}let c=wt(a,u),b=i&&i!=="/"&&i.endsWith("/"),h=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(b||h)&&(c.pathname+="/"),c}function wn(e){return e===""||e.pathname===""?"/":typeof e=="string"?ae(e).pathname:e.pathname}const Ee=e=>e.join("/").replace(/\/\/+/g,"/"),jr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_r=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,bn=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r,a=new Headers(n.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),U({},n,{headers:a}))};class rt extends Error{}class Fr{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],O(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((s,i)=>n=i),this.controller=new AbortController;let a=()=>n(new rt("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((s,i)=>{let[u,c]=i;return Object.assign(s,{[u]:this.trackPromise(u,c)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(n,t,void 0,a),a=>this.onSettle(n,t,a));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,a){if(this.controller.signal.aborted&&n instanceof rt)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n===void 0&&a===void 0){let s=new Error('Deferred data for key "'+r+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(t,"_error",{get:()=>s}),this.emit(!1,r),Promise.reject(s)}return a===void 0?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>a}),this.emit(!1,r),a)}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(a=>{this.subscribe(s=>{t.removeEventListener("abort",n),(s||this.done)&&a(s)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return O(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,a]=r;return Object.assign(t,{[n]:Or(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Ur(e){return e instanceof Promise&&e._tracked===!0}function Or(e){if(!Ur(e))return e;if(e._error)throw e._error;return e._data}const Sn=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r;return new Fr(t,n)},Ar=function(t,r){r===void 0&&(r=302);let n=r;typeof n=="number"?n={status:n}:typeof n.status=="undefined"&&(n.status=302);let a=new Headers(n.headers);return a.set("Location",t),new Response(null,U({},n,{headers:a}))},Dn=(e,t)=>{let r=Ar(e,t);return r.headers.set("X-Remix-Reload-Document","true"),r};class Rt{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Fe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Et=["post","put","patch","delete"],Ir=new Set(Et),Hr=["get",...Et],zr=new Set(Hr),Nr=new Set([301,302,303,307,308]),Br=new Set([307,308]),nt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ue={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),xt="remix-router-transitions";function Rn(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,r=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined",n=!r;O(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let o=e.detectErrorBoundary;a=l=>({hasErrorBoundary:o(l)})}else a=Pt;let s={},i=ke(e.routes,a,void 0,s),u,c=e.basename||"/",b=e.unstable_dataStrategy||Ut,h=U({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),v=null,w=new Set,p=null,g=null,y=null,E=e.hydrationData!=null,j=he(i,e.history.location,c),x=null;if(j==null){let o=k(404,{pathname:e.history.location.pathname}),{matches:l,route:f}=Ve(i);j=l,x={[f.id]:o}}let M,D=j.some(o=>o.route.lazy),I=j.some(o=>o.route.loader);if(D)M=!1;else if(!I)M=!0;else if(h.v7_partialHydration){let o=e.hydrationData?e.hydrationData.loaderData:null,l=e.hydrationData?e.hydrationData.errors:null,f=m=>m.route.loader?typeof m.route.loader=="function"&&m.route.loader.hydrate===!0?!1:o&&o[m.route.id]!==void 0||l&&l[m.route.id]!==void 0:!0;if(l){let m=j.findIndex(S=>l[S.route.id]!==void 0);M=j.slice(0,m+1).every(f)}else M=j.every(f)}else M=e.hydrationData!=null;let H,d={historyAction:e.history.action,location:e.history.location,matches:j,initialized:M,navigation:nt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},N=K.Pop,A=!1,B,W=!1,Z=new Map,de=null,re=!1,ue=!1,Ye=[],Je=[],V=new Map,Ge=0,Ie=-1,Le=new Map,fe=new Set,Me=new Map,He=new Map,ce=new Set,Se=new Map,De=new Map,ut=!1;function tn(){if(v=e.history.listen(o=>{let{action:l,location:f,delta:m}=o;if(ut){ut=!1;return}le(De.size===0||m!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let S=nr({currentLocation:d.location,nextLocation:f,historyAction:l});if(S&&m!=null){ut=!0,e.history.go(m*-1),Qe(S,{state:"blocked",location:f,proceed(){Qe(S,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),e.history.go(m)},reset(){let T=new Map(d.blockers);T.set(S,Ue),ee({blockers:T})}});return}return Re(l,f)}),r){qr(t,Z);let o=()=>en(t,Z);t.addEventListener("pagehide",o),de=()=>t.removeEventListener("pagehide",o)}return d.initialized||Re(K.Pop,d.location,{initialHydration:!0}),H}function rn(){v&&v(),de&&de(),w.clear(),B&&B.abort(),d.fetchers.forEach((o,l)=>Xe(l)),d.blockers.forEach((o,l)=>rr(l))}function nn(o){return w.add(o),()=>w.delete(o)}function ee(o,l){l===void 0&&(l={}),d=U({},d,o);let f=[],m=[];h.v7_fetcherPersist&&d.fetchers.forEach((S,T)=>{S.state==="idle"&&(ce.has(T)?m.push(T):f.push(T))}),[...w].forEach(S=>S(d,{deletedFetchers:m,unstable_viewTransitionOpts:l.viewTransitionOpts,unstable_flushSync:l.flushSync===!0})),h.v7_fetcherPersist&&(f.forEach(S=>d.fetchers.delete(S)),m.forEach(S=>Xe(S)))}function ze(o,l,f){var m,S;let{flushSync:T}=f===void 0?{}:f,P=d.actionData!=null&&d.navigation.formMethod!=null&&te(d.navigation.formMethod)&&d.navigation.state==="loading"&&((m=o.state)==null?void 0:m._isRedirect)!==!0,R;l.actionData?Object.keys(l.actionData).length>0?R=l.actionData:R=null:P?R=d.actionData:R=null;let _=l.loaderData?Kt(d.loaderData,l.loaderData,l.matches||[],l.errors):d.loaderData,C=d.blockers;C.size>0&&(C=new Map(C),C.forEach((L,$)=>C.set($,Ue)));let J=A===!0||d.navigation.formMethod!=null&&te(d.navigation.formMethod)&&((S=o.state)==null?void 0:S._isRedirect)!==!0;u&&(i=u,u=void 0),re||N===K.Pop||(N===K.Push?e.history.push(o,o.state):N===K.Replace&&e.history.replace(o,o.state));let G;if(N===K.Pop){let L=Z.get(d.location.pathname);L&&L.has(o.pathname)?G={currentLocation:d.location,nextLocation:o}:Z.has(o.pathname)&&(G={currentLocation:o,nextLocation:d.location})}else if(W){let L=Z.get(d.location.pathname);L?L.add(o.pathname):(L=new Set([o.pathname]),Z.set(d.location.pathname,L)),G={currentLocation:d.location,nextLocation:o}}ee(U({},l,{actionData:R,loaderData:_,historyAction:N,location:o,initialized:!0,navigation:nt,revalidation:"idle",restoreScrollPosition:or(o,l.matches||d.matches),preventScrollReset:J,blockers:C}),{viewTransitionOpts:G,flushSync:T===!0}),N=K.Pop,A=!1,W=!1,re=!1,ue=!1,Ye=[],Je=[]}async function Xt(o,l){if(typeof o=="number"){e.history.go(o);return}let f=ot(d.location,d.matches,c,h.v7_prependBasename,o,h.v7_relativeSplatPath,l==null?void 0:l.fromRouteId,l==null?void 0:l.relative),{path:m,submission:S,error:T}=Mt(h.v7_normalizeFormMethod,!1,f,l),P=d.location,R=se(d.location,m,l&&l.state);R=U({},R,e.history.encodeLocation(R));let _=l&&l.replace!=null?l.replace:void 0,C=K.Push;_===!0?C=K.Replace:_===!1||S!=null&&te(S.formMethod)&&S.formAction===d.location.pathname+d.location.search&&(C=K.Replace);let J=l&&"preventScrollReset"in l?l.preventScrollReset===!0:void 0,G=(l&&l.unstable_flushSync)===!0,L=nr({currentLocation:P,nextLocation:R,historyAction:C});if(L){Qe(L,{state:"blocked",location:R,proceed(){Qe(L,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),Xt(o,l)},reset(){let $=new Map(d.blockers);$.set(L,Ue),ee({blockers:$})}});return}return await Re(C,R,{submission:S,pendingError:T,preventScrollReset:J,replace:l&&l.replace,enableViewTransition:l&&l.unstable_viewTransition,flushSync:G})}function an(){if(ft(),ee({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){Re(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}Re(N||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function Re(o,l,f){B&&B.abort(),B=null,N=o,re=(f&&f.startUninterruptedRevalidation)===!0,pn(d.location,d.matches),A=(f&&f.preventScrollReset)===!0,W=(f&&f.enableViewTransition)===!0;let m=u||i,S=f&&f.overrideNavigation,T=he(m,l,c),P=(f&&f.flushSync)===!0;if(!T){let L=k(404,{pathname:l.pathname}),{matches:$,route:Y}=Ve(m);ct(),ze(l,{matches:$,loaderData:{},errors:{[Y.id]:L}},{flushSync:P});return}if(d.initialized&&!ue&&Yr(d.location,l)&&!(f&&f.submission&&te(f.submission.formMethod))){ze(l,{matches:T},{flushSync:P});return}B=new AbortController;let R=Pe(e.history,l,B.signal,f&&f.submission),_;if(f&&f.pendingError)_=[xe(T).route.id,{type:z.error,error:f.pendingError}];else if(f&&f.submission&&te(f.submission.formMethod)){let L=await on(R,l,f.submission,T,{replace:f.replace,flushSync:P});if(L.shortCircuited)return;_=L.pendingActionResult,S=dt(l,f.submission),P=!1,R=Pe(e.history,R.url,R.signal)}let{shortCircuited:C,loaderData:J,errors:G}=await ln(R,l,T,S,f&&f.submission,f&&f.fetcherSubmission,f&&f.replace,f&&f.initialHydration===!0,P,_);C||(B=null,ze(l,U({matches:T},Wt(_),{loaderData:J,errors:G})))}async function on(o,l,f,m,S){S===void 0&&(S={}),ft();let T=Qr(l,f);ee({navigation:T},{flushSync:S.flushSync===!0});let P,R=Oe(m,l);if(!R.route.action&&!R.route.lazy)P={type:z.error,error:k(405,{method:o.method,pathname:l.pathname,routeId:R.route.id})};else if(P=(await Be("action",o,[R],m))[0],o.signal.aborted)return{shortCircuited:!0};if(me(P)){let _;return S&&S.replace!=null?_=S.replace:_=Ht(P.response.headers.get("Location"),new URL(o.url),c)===d.location.pathname+d.location.search,await Ne(o,P,{submission:f,replace:_}),{shortCircuited:!0}}if(pe(P))throw k(400,{type:"defer-action"});if(Q(P)){let _=xe(m,R.route.id);return(S&&S.replace)!==!0&&(N=K.Push),{pendingActionResult:[_.route.id,P]}}return{pendingActionResult:[R.route.id,P]}}async function ln(o,l,f,m,S,T,P,R,_,C){let J=m||dt(l,S),G=S||T||Gt(J),L=u||i,[$,Y]=jt(e.history,d,f,G,l,h.v7_partialHydration&&R===!0,h.unstable_skipActionErrorRevalidation,ue,Ye,Je,ce,Me,fe,L,c,C);if(ct(F=>!(f&&f.some(q=>q.route.id===F))||$&&$.some(q=>q.route.id===F)),Ie=++Ge,$.length===0&&Y.length===0){let F=er();return ze(l,U({matches:f,loaderData:{},errors:C&&Q(C[1])?{[C[0]]:C[1].error}:null},Wt(C),F?{fetchers:new Map(d.fetchers)}:{}),{flushSync:_}),{shortCircuited:!0}}if(!re&&(!h.v7_partialHydration||!R)){Y.forEach(q=>{let ne=d.fetchers.get(q.key),X=Ae(void 0,ne?ne.data:void 0);d.fetchers.set(q.key,X)});let F;C&&!Q(C[1])?F={[C[0]]:C[1].data}:d.actionData&&(Object.keys(d.actionData).length===0?F=null:F=d.actionData),ee(U({navigation:J},F!==void 0?{actionData:F}:{},Y.length>0?{fetchers:new Map(d.fetchers)}:{}),{flushSync:_})}Y.forEach(F=>{V.has(F.key)&&we(F.key),F.controller&&V.set(F.key,F.controller)});let We=()=>Y.forEach(F=>we(F.key));B&&B.signal.addEventListener("abort",We);let{loaderResults:be,fetcherResults:Ce}=await Qt(d.matches,f,$,Y,o);if(o.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",We),Y.forEach(F=>V.delete(F.key));let je=$t([...be,...Ce]);if(je){if(je.idx>=$.length){let F=Y[je.idx-$.length].key;fe.add(F)}return await Ne(o,je.result,{replace:P}),{shortCircuited:!0}}let{loaderData:Te,errors:ie}=Bt(d,f,$,be,C,Y,Ce,Se);Se.forEach((F,q)=>{F.subscribe(ne=>{(ne||F.done)&&Se.delete(q)})}),h.v7_partialHydration&&R&&d.errors&&Object.entries(d.errors).filter(F=>{let[q]=F;return!$.some(ne=>ne.route.id===q)}).forEach(F=>{let[q,ne]=F;ie=Object.assign(ie||{},{[q]:ne})});let Ze=er(),qe=tr(Ie),et=Ze||qe||Y.length>0;return U({loaderData:Te,errors:ie},et?{fetchers:new Map(d.fetchers)}:{})}function sn(o,l,f,m){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(o)&&we(o);let S=(m&&m.unstable_flushSync)===!0,T=u||i,P=ot(d.location,d.matches,c,h.v7_prependBasename,f,h.v7_relativeSplatPath,l,m==null?void 0:m.relative),R=he(T,P,c);if(!R){Ke(o,l,k(404,{pathname:P}),{flushSync:S});return}let{path:_,submission:C,error:J}=Mt(h.v7_normalizeFormMethod,!0,P,m);if(J){Ke(o,l,J,{flushSync:S});return}let G=Oe(R,_);if(A=(m&&m.preventScrollReset)===!0,C&&te(C.formMethod)){dn(o,l,_,G,R,S,C);return}Me.set(o,{routeId:l,path:_}),un(o,l,_,G,R,S,C)}async function dn(o,l,f,m,S,T,P){if(ft(),Me.delete(o),!m.route.action&&!m.route.lazy){let X=k(405,{method:P.formMethod,pathname:f,routeId:l});Ke(o,l,X,{flushSync:T});return}let R=d.fetchers.get(o);ve(o,Zr(P,R),{flushSync:T});let _=new AbortController,C=Pe(e.history,f,_.signal,P);V.set(o,_);let J=Ge,L=(await Be("action",C,[m],S))[0];if(C.signal.aborted){V.get(o)===_&&V.delete(o);return}if(h.v7_fetcherPersist&&ce.has(o)){if(me(L)||Q(L)){ve(o,ge(void 0));return}}else{if(me(L))if(V.delete(o),Ie>J){ve(o,ge(void 0));return}else return fe.add(o),ve(o,Ae(P)),Ne(C,L,{fetcherSubmission:P});if(Q(L)){Ke(o,l,L.error);return}}if(pe(L))throw k(400,{type:"defer-action"});let $=d.navigation.location||d.location,Y=Pe(e.history,$,_.signal),We=u||i,be=d.navigation.state!=="idle"?he(We,d.navigation.location,c):d.matches;O(be,"Didn't find any matches after fetcher action");let Ce=++Ge;Le.set(o,Ce);let je=Ae(P,L.data);d.fetchers.set(o,je);let[Te,ie]=jt(e.history,d,be,P,$,!1,h.unstable_skipActionErrorRevalidation,ue,Ye,Je,ce,Me,fe,We,c,[m.route.id,L]);ie.filter(X=>X.key!==o).forEach(X=>{let $e=X.key,ir=d.fetchers.get($e),yn=Ae(void 0,ir?ir.data:void 0);d.fetchers.set($e,yn),V.has($e)&&we($e),X.controller&&V.set($e,X.controller)}),ee({fetchers:new Map(d.fetchers)});let Ze=()=>ie.forEach(X=>we(X.key));_.signal.addEventListener("abort",Ze);let{loaderResults:qe,fetcherResults:et}=await Qt(d.matches,be,Te,ie,Y);if(_.signal.aborted)return;_.signal.removeEventListener("abort",Ze),Le.delete(o),V.delete(o),ie.forEach(X=>V.delete(X.key));let F=$t([...qe,...et]);if(F){if(F.idx>=Te.length){let X=ie[F.idx-Te.length].key;fe.add(X)}return Ne(Y,F.result)}let{loaderData:q,errors:ne}=Bt(d,d.matches,Te,qe,void 0,ie,et,Se);if(d.fetchers.has(o)){let X=ge(L.data);d.fetchers.set(o,X)}tr(Ce),d.navigation.state==="loading"&&Ce>Ie?(O(N,"Expected pending action"),B&&B.abort(),ze(d.navigation.location,{matches:be,loaderData:q,errors:ne,fetchers:new Map(d.fetchers)})):(ee({errors:ne,loaderData:Kt(d.loaderData,q,be,ne),fetchers:new Map(d.fetchers)}),ue=!1)}async function un(o,l,f,m,S,T,P){let R=d.fetchers.get(o);ve(o,Ae(P,R?R.data:void 0),{flushSync:T});let _=new AbortController,C=Pe(e.history,f,_.signal);V.set(o,_);let J=Ge,L=(await Be("loader",C,[m],S))[0];if(pe(L)&&(L=await Jt(L,C.signal,!0)||L),V.get(o)===_&&V.delete(o),!C.signal.aborted){if(ce.has(o)){ve(o,ge(void 0));return}if(me(L))if(Ie>J){ve(o,ge(void 0));return}else{fe.add(o),await Ne(C,L);return}if(Q(L)){Ke(o,l,L.error);return}O(!pe(L),"Unhandled fetcher deferred data"),ve(o,ge(L.data))}}async function Ne(o,l,f){let{submission:m,fetcherSubmission:S,replace:T}=f===void 0?{}:f;l.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let P=l.response.headers.get("Location");O(P,"Expected a Location header on the redirect Response"),P=Ht(P,new URL(o.url),c);let R=se(d.location,P,{_isRedirect:!0});if(r){let $=!1;if(l.response.headers.has("X-Remix-Reload-Document"))$=!0;else if(at.test(P)){const Y=e.history.createURL(P);$=Y.origin!==t.location.origin||_e(Y.pathname,c)==null}if($){T?t.location.replace(P):t.location.assign(P);return}}B=null;let _=T===!0?K.Replace:K.Push,{formMethod:C,formAction:J,formEncType:G}=d.navigation;!m&&!S&&C&&J&&G&&(m=Gt(d.navigation));let L=m||S;if(Br.has(l.response.status)&&L&&te(L.formMethod))await Re(_,R,{submission:U({},L,{formAction:P}),preventScrollReset:A});else{let $=dt(R,m);await Re(_,R,{overrideNavigation:$,fetcherSubmission:S,preventScrollReset:A})}}async function Be(o,l,f,m){try{let S=await Ot(b,o,l,f,m,s,a);return await Promise.all(S.map((T,P)=>{if(Vt(T)){let R=T.result;return{type:z.redirect,response:It(R,l,f[P].route.id,m,c,h.v7_relativeSplatPath)}}return At(T)}))}catch(S){return f.map(()=>({type:z.error,error:S}))}}async function Qt(o,l,f,m,S){let[T,...P]=await Promise.all([f.length?Be("loader",S,f,l):[],...m.map(R=>{if(R.matches&&R.match&&R.controller){let _=Pe(e.history,R.path,R.controller.signal);return Be("loader",_,[R.match],R.matches).then(C=>C[0])}else return Promise.resolve({type:z.error,error:k(404,{pathname:R.path})})})]);return await Promise.all([Yt(o,f,T,T.map(()=>S.signal),!1,d.loaderData),Yt(o,m.map(R=>R.match),P,m.map(R=>R.controller?R.controller.signal:null),!0)]),{loaderResults:T,fetcherResults:P}}function ft(){ue=!0,Ye.push(...ct()),Me.forEach((o,l)=>{V.has(l)&&(Je.push(l),we(l))})}function ve(o,l,f){f===void 0&&(f={}),d.fetchers.set(o,l),ee({fetchers:new Map(d.fetchers)},{flushSync:(f&&f.flushSync)===!0})}function Ke(o,l,f,m){m===void 0&&(m={});let S=xe(d.matches,l);Xe(o),ee({errors:{[S.route.id]:f},fetchers:new Map(d.fetchers)},{flushSync:(m&&m.flushSync)===!0})}function Zt(o){return h.v7_fetcherPersist&&(He.set(o,(He.get(o)||0)+1),ce.has(o)&&ce.delete(o)),d.fetchers.get(o)||Kr}function Xe(o){let l=d.fetchers.get(o);V.has(o)&&!(l&&l.state==="loading"&&Le.has(o))&&we(o),Me.delete(o),Le.delete(o),fe.delete(o),ce.delete(o),d.fetchers.delete(o)}function fn(o){if(h.v7_fetcherPersist){let l=(He.get(o)||0)-1;l<=0?(He.delete(o),ce.add(o)):He.set(o,l)}else Xe(o);ee({fetchers:new Map(d.fetchers)})}function we(o){let l=V.get(o);O(l,"Expected fetch controller: "+o),l.abort(),V.delete(o)}function qt(o){for(let l of o){let f=Zt(l),m=ge(f.data);d.fetchers.set(l,m)}}function er(){let o=[],l=!1;for(let f of fe){let m=d.fetchers.get(f);O(m,"Expected fetcher: "+f),m.state==="loading"&&(fe.delete(f),o.push(f),l=!0)}return qt(o),l}function tr(o){let l=[];for(let[f,m]of Le)if(m<o){let S=d.fetchers.get(f);O(S,"Expected fetcher: "+f),S.state==="loading"&&(we(f),Le.delete(f),l.push(f))}return qt(l),l.length>0}function cn(o,l){let f=d.blockers.get(o)||Ue;return De.get(o)!==l&&De.set(o,l),f}function rr(o){d.blockers.delete(o),De.delete(o)}function Qe(o,l){let f=d.blockers.get(o)||Ue;O(f.state==="unblocked"&&l.state==="blocked"||f.state==="blocked"&&l.state==="blocked"||f.state==="blocked"&&l.state==="proceeding"||f.state==="blocked"&&l.state==="unblocked"||f.state==="proceeding"&&l.state==="unblocked","Invalid blocker state transition: "+f.state+" -> "+l.state);let m=new Map(d.blockers);m.set(o,l),ee({blockers:m})}function nr(o){let{currentLocation:l,nextLocation:f,historyAction:m}=o;if(De.size===0)return;De.size>1&&le(!1,"A router only supports one blocker at a time");let S=Array.from(De.entries()),[T,P]=S[S.length-1],R=d.blockers.get(T);if(!(R&&R.state==="proceeding")&&P({currentLocation:l,nextLocation:f,historyAction:m}))return T}function ct(o){let l=[];return Se.forEach((f,m)=>{(!o||o(m))&&(f.cancel(),l.push(m),Se.delete(m))}),l}function hn(o,l,f){if(p=o,y=l,g=f||null,!E&&d.navigation===nt){E=!0;let m=or(d.location,d.matches);m!=null&&ee({restoreScrollPosition:m})}return()=>{p=null,y=null,g=null}}function ar(o,l){return g&&g(o,l.map(m=>pr(m,d.loaderData)))||o.key}function pn(o,l){if(p&&y){let f=ar(o,l);p[f]=y()}}function or(o,l){if(p){let f=ar(o,l),m=p[f];if(typeof m=="number")return m}return null}function mn(o){s={},u=ke(o,a,void 0,s)}return H={get basename(){return c},get future(){return h},get state(){return d},get routes(){return i},get window(){return t},initialize:tn,subscribe:nn,enableScrollRestoration:hn,navigate:Xt,fetch:sn,revalidate:an,createHref:o=>e.history.createHref(o),encodeLocation:o=>e.history.encodeLocation(o),getFetcher:Zt,deleteFetcher:fn,dispose:rn,getBlocker:cn,deleteBlocker:rr,_internalFetchControllers:V,_internalActiveDeferreds:Se,_internalSetRoutes:mn},H}const Wr=Symbol("deferred");function En(e,t){O(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let r={},n=(t?t.basename:null)||"/",a;if(t!=null&&t.mapRouteProperties)a=t.mapRouteProperties;else if(t!=null&&t.detectErrorBoundary){let p=t.detectErrorBoundary;a=g=>({hasErrorBoundary:p(g)})}else a=Pt;let s=U({v7_relativeSplatPath:!1,v7_throwAbortReason:!1},t?t.future:null),i=ke(e,a,void 0,r);async function u(p,g){let{requestContext:y,skipLoaderErrorBubbling:E,unstable_dataStrategy:j}=g===void 0?{}:g,x=new URL(p.url),M=p.method,D=se("",oe(x),null,"default"),I=he(i,D,n);if(!lt(M)&&M!=="HEAD"){let d=k(405,{method:M}),{matches:N,route:A}=Ve(i);return{basename:n,location:D,matches:N,loaderData:{},actionData:null,errors:{[A.id]:d},statusCode:d.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}else if(!I){let d=k(404,{pathname:D.pathname}),{matches:N,route:A}=Ve(i);return{basename:n,location:D,matches:N,loaderData:{},actionData:null,errors:{[A.id]:d},statusCode:d.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let H=await b(p,D,I,y,j||null,E===!0,null);return ye(H)?H:U({location:D,basename:n},H)}async function c(p,g){let{routeId:y,requestContext:E}=g===void 0?{}:g,j=new URL(p.url),x=p.method,M=se("",oe(j),null,"default"),D=he(i,M,n);if(!lt(x)&&x!=="HEAD"&&x!=="OPTIONS")throw k(405,{method:x});if(!D)throw k(404,{pathname:M.pathname});let I=y?D.find(A=>A.route.id===y):Oe(D,M);if(y&&!I)throw k(403,{pathname:M.pathname,routeId:y});if(!I)throw k(404,{pathname:M.pathname});let H=await b(p,M,D,E,null,!1,I);if(ye(H))return H;let d=H.errors?Object.values(H.errors)[0]:void 0;if(d!==void 0)throw d;if(H.actionData)return Object.values(H.actionData)[0];if(H.loaderData){var N;let A=Object.values(H.loaderData)[0];return(N=H.activeDeferreds)!=null&&N[I.route.id]&&(A[Wr]=H.activeDeferreds[I.route.id]),A}}async function b(p,g,y,E,j,x,M){O(p.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(te(p.method.toLowerCase()))return await h(p,y,M||Oe(y,g),E,j,x,M!=null);let D=await v(p,y,E,j,x,M);return ye(D)?D:U({},D,{actionData:null,actionHeaders:{}})}catch(D){if(Jr(D)&&ye(D.result)){if(D.type===z.error)throw D.result;return D.result}if(Xr(D))return D;throw D}}async function h(p,g,y,E,j,x,M){let D;if(!y.route.action&&!y.route.lazy){let d=k(405,{method:p.method,pathname:new URL(p.url).pathname,routeId:y.route.id});if(M)throw d;D={type:z.error,error:d}}else D=(await w("action",p,[y],g,M,E,j))[0],p.signal.aborted&&Lt(p,M,s);if(me(D))throw new Response(null,{status:D.response.status,headers:{Location:D.response.headers.get("Location")}});if(pe(D)){let d=k(400,{type:"defer-action"});if(M)throw d;D={type:z.error,error:d}}if(M){if(Q(D))throw D.error;return{matches:[y],loaderData:{},actionData:{[y.route.id]:D.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let I=new Request(p.url,{headers:p.headers,redirect:p.redirect,signal:p.signal});if(Q(D)){let d=x?y:xe(g,y.route.id),N=await v(I,g,E,j,x,null,[d.route.id,D]);return U({},N,{statusCode:Fe(D.error)?D.error.status:D.statusCode!=null?D.statusCode:500,actionData:null,actionHeaders:U({},D.headers?{[y.route.id]:D.headers}:{})})}let H=await v(I,g,E,j,x,null);return U({},H,{actionData:{[y.route.id]:D.data}},D.statusCode?{statusCode:D.statusCode}:{},{actionHeaders:D.headers?{[y.route.id]:D.headers}:{}})}async function v(p,g,y,E,j,x,M){let D=x!=null;if(D&&!(x!=null&&x.route.loader)&&!(x!=null&&x.route.lazy))throw k(400,{method:p.method,pathname:new URL(p.url).pathname,routeId:x==null?void 0:x.route.id});let H=(x?[x]:M&&Q(M[1])?Ct(g,M[0]):g).filter(W=>W.route.loader||W.route.lazy);if(H.length===0)return{matches:g,loaderData:g.reduce((W,Z)=>Object.assign(W,{[Z.route.id]:null}),{}),errors:M&&Q(M[1])?{[M[0]]:M[1].error}:null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let d=await w("loader",p,H,g,D,y,E);p.signal.aborted&&Lt(p,D,s);let N=new Map,A=Nt(g,H,d,M,N,j),B=new Set(H.map(W=>W.route.id));return g.forEach(W=>{B.has(W.route.id)||(A.loaderData[W.route.id]=null)}),U({},A,{matches:g,activeDeferreds:N.size>0?Object.fromEntries(N.entries()):null})}async function w(p,g,y,E,j,x,M){let D=await Ot(M||Ut,p,g,y,E,r,a,x);return await Promise.all(D.map((I,H)=>{if(Vt(I)){let d=I.result;throw It(d,g,y[H].route.id,E,n,s.v7_relativeSplatPath)}if(ye(I.result)&&j)throw I;return At(I)}))}return{dataRoutes:i,query:u,queryRoute:c}}function Pn(e,t,r){return U({},t,{statusCode:Fe(r)?r.status:500,errors:{[t._deepestRenderedBoundaryId||e[0].id]:r}})}function Lt(e,t,r){if(r.v7_throwAbortReason&&e.signal.reason!==void 0)throw e.signal.reason;let n=t?"queryRoute":"query";throw new Error(n+"() call aborted: "+e.method+" "+e.url)}function $r(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ot(e,t,r,n,a,s,i,u){let c,b;if(i){c=[];for(let v of t)if(c.push(v),v.route.id===i){b=v;break}}else c=t,b=t[t.length-1];let h=Dt(a||".",St(c,s),_e(e.pathname,r)||e.pathname,u==="path");return a==null&&(h.search=e.search,h.hash=e.hash),(a==null||a===""||a===".")&&b&&b.route.index&&!st(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(h.pathname=h.pathname==="/"?r:Ee([r,h.pathname])),oe(h)}function Mt(e,t,r,n){if(!n||!$r(n))return{path:r};if(n.formMethod&&!lt(n.formMethod))return{path:r,error:k(405,{method:n.formMethod})};let a=()=>({path:r,error:k(400,{type:"invalid-body"})}),s=n.formMethod||"get",i=e?s.toUpperCase():s.toLowerCase(),u=kt(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!te(i))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,g)=>{let[y,E]=g;return""+p+y+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:i,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!te(i))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:i,formAction:u,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}O(typeof FormData=="function","FormData is not available in this environment");let c,b;if(n.formData)c=it(n.formData),b=n.formData;else if(n.body instanceof FormData)c=it(n.body),b=n.body;else if(n.body instanceof URLSearchParams)c=n.body,b=zt(c);else if(n.body==null)c=new URLSearchParams,b=new FormData;else try{c=new URLSearchParams(n.body),b=zt(c)}catch{return a()}let h={formMethod:i,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:b,json:void 0,text:void 0};if(te(h.formMethod))return{path:r,submission:h};let v=ae(r);return t&&v.search&&st(v.search)&&c.append("index",""),v.search="?"+c,{path:oe(v),submission:h}}function Ct(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function jt(e,t,r,n,a,s,i,u,c,b,h,v,w,p,g,y){let E=y?Q(y[1])?y[1].error:y[1].data:void 0,j=e.createURL(t.location),x=e.createURL(a),M=y&&Q(y[1])?y[0]:void 0,D=M?Ct(r,M):r,I=y?y[1].statusCode:void 0,H=i&&I&&I>=400,d=D.filter((A,B)=>{let{route:W}=A;if(W.lazy)return!0;if(W.loader==null)return!1;if(s)return typeof W.loader!="function"||W.loader.hydrate?!0:t.loaderData[W.id]===void 0&&(!t.errors||t.errors[W.id]===void 0);if(kr(t.loaderData,t.matches[B],A)||c.some(re=>re===A.route.id))return!0;let Z=t.matches[B],de=A;return _t(A,U({currentUrl:j,currentParams:Z.params,nextUrl:x,nextParams:de.params},n,{actionResult:E,unstable_actionStatus:I,defaultShouldRevalidate:H?!1:u||j.pathname+j.search===x.pathname+x.search||j.search!==x.search||Tt(Z,de)}))}),N=[];return v.forEach((A,B)=>{if(s||!r.some(ue=>ue.route.id===A.routeId)||h.has(B))return;let W=he(p,A.path,g);if(!W){N.push({key:B,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let Z=t.fetchers.get(B),de=Oe(W,A.path),re=!1;w.has(B)?re=!1:b.includes(B)?re=!0:Z&&Z.state!=="idle"&&Z.data===void 0?re=u:re=_t(de,U({currentUrl:j,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:E,unstable_actionStatus:I,defaultShouldRevalidate:H?!1:u})),re&&N.push({key:B,routeId:A.routeId,path:A.path,matches:W,match:de,controller:new AbortController})}),[d,N]}function kr(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function Tt(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function _t(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Ft(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];O(a,"No route found in manifest");let s={};for(let i in n){let c=a[i]!==void 0&&i!=="hasErrorBoundary";le(!c,'Route "'+a.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!cr.has(i)&&(s[i]=n[i])}Object.assign(a,s),Object.assign(a,U({},t(a),{lazy:void 0}))}function Ut(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Ot(e,t,r,n,a,s,i,u){let c=n.reduce((v,w)=>v.add(w.route.id),new Set),b=new Set,h=await e({matches:a.map(v=>{let w=c.has(v.route.id);return U({},v,{shouldLoad:w,resolve:g=>(b.add(v.route.id),w?Vr(t,r,v,s,i,g,u):Promise.resolve({type:z.data,result:void 0}))})}),request:r,params:a[0].params,context:u});return a.forEach(v=>O(b.has(v.route.id),'`match.resolve()` was not called for route id "'+v.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((v,w)=>c.has(a[w].route.id))}async function Vr(e,t,r,n,a,s,i){let u,c,b=h=>{let v,w=new Promise((y,E)=>v=E);c=()=>v(),t.signal.addEventListener("abort",c);let p=y=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):h({request:t,params:r.params,context:i},...y!==void 0?[y]:[]),g;return s?g=s(y=>p(y)):g=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([g,w])};try{let h=r.route[e];if(r.route.lazy)if(h){let v,[w]=await Promise.all([b(h).catch(p=>{v=p}),Ft(r.route,a,n)]);if(v!==void 0)throw v;u=w}else if(await Ft(r.route,a,n),h=r.route[e],h)u=await b(h);else if(e==="action"){let v=new URL(t.url),w=v.pathname+v.search;throw k(405,{method:t.method,pathname:w,routeId:r.route.id})}else return{type:z.data,result:void 0};else if(h)u=await b(h);else{let v=new URL(t.url),w=v.pathname+v.search;throw k(404,{pathname:w})}O(u.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:z.error,result:h}}finally{c&&t.signal.removeEventListener("abort",c)}return u}async function At(e){let{result:t,type:r,status:n}=e;if(ye(t)){let i;try{let u=t.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?t.body==null?i=null:i=await t.json():i=await t.text()}catch(u){return{type:z.error,error:u}}return r===z.error?{type:z.error,error:new Rt(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:z.data,data:i,statusCode:t.status,headers:t.headers}}if(r===z.error)return{type:z.error,error:t,statusCode:Fe(t)?t.status:n};if(Gr(t)){var a,s;return{type:z.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((s=t.init)==null?void 0:s.headers)&&new Headers(t.init.headers)}}return{type:z.data,data:t,statusCode:n}}function It(e,t,r,n,a,s){let i=e.headers.get("Location");if(O(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!at.test(i)){let u=n.slice(0,n.findIndex(c=>c.route.id===r)+1);i=ot(new URL(t.url),u,a,!0,i,s),e.headers.set("Location",i)}return e}function Ht(e,t,r){if(at.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=_e(a.pathname,r)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Pe(e,t,r,n){let a=e.createURL(kt(t)).toString(),s={signal:r};if(n&&te(n.formMethod)){let{formMethod:i,formEncType:u}=n;s.method=i.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(n.json)):u==="text/plain"?s.body=n.text:u==="application/x-www-form-urlencoded"&&n.formData?s.body=it(n.formData):s.body=n.formData}return new Request(a,s)}function it(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function zt(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Nt(e,t,r,n,a,s){let i={},u=null,c,b=!1,h={},v=n&&Q(n[1])?n[1].error:void 0;return r.forEach((w,p)=>{let g=t[p].route.id;if(O(!me(w),"Cannot handle redirect results in processLoaderData"),Q(w)){let y=w.error;if(v!==void 0&&(y=v,v=void 0),u=u||{},s)u[g]=y;else{let E=xe(e,g);u[E.route.id]==null&&(u[E.route.id]=y)}i[g]=void 0,b||(b=!0,c=Fe(w.error)?w.error.status:500),w.headers&&(h[g]=w.headers)}else pe(w)?(a.set(g,w.deferredData),i[g]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!b&&(c=w.statusCode),w.headers&&(h[g]=w.headers)):(i[g]=w.data,w.statusCode&&w.statusCode!==200&&!b&&(c=w.statusCode),w.headers&&(h[g]=w.headers))}),v!==void 0&&n&&(u={[n[0]]:v},i[n[0]]=void 0),{loaderData:i,errors:u,statusCode:c||200,loaderHeaders:h}}function Bt(e,t,r,n,a,s,i,u){let{loaderData:c,errors:b}=Nt(t,r,n,a,u,!1);for(let h=0;h<s.length;h++){let{key:v,match:w,controller:p}=s[h];O(i!==void 0&&i[h]!==void 0,"Did not find corresponding fetcher result");let g=i[h];if(!(p&&p.signal.aborted))if(Q(g)){let y=xe(e.matches,w==null?void 0:w.route.id);b&&b[y.route.id]||(b=U({},b,{[y.route.id]:g.error})),e.fetchers.delete(v)}else if(me(g))O(!1,"Unhandled fetcher revalidation redirect");else if(pe(g))O(!1,"Unhandled fetcher deferred data");else{let y=ge(g.data);e.fetchers.set(v,y)}}return{loaderData:c,errors:b}}function Kt(e,t,r,n){let a=U({},t);for(let s of r){let i=s.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&s.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function Wt(e){return e?Q(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function xe(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Ve(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function k(e,t){let{pathname:r,routeId:n,method:a,type:s}=t===void 0?{}:t,i="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(i="Bad Request",a&&r&&n?u="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):e===403?(i="Forbidden",u='Route "'+n+'" does not match URL "'+r+'"'):e===404?(i="Not Found",u='No route matches URL "'+r+'"'):e===405&&(i="Method Not Allowed",a&&r&&n?u="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new Rt(e||500,i,new Error(u),!0)}function $t(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(me(r))return{result:r,idx:t}}}function kt(e){let t=typeof e=="string"?ae(e):e;return oe(U({},t,{hash:""}))}function Yr(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Jr(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type===z.data||e.type===z.error)}function Vt(e){return ye(e.result)&&Nr.has(e.result.status)}function pe(e){return e.type===z.deferred}function Q(e){return e.type===z.error}function me(e){return(e&&e.type)===z.redirect}function Gr(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function Xr(e){if(!ye(e))return!1;let t=e.status,r=e.headers.get("Location");return t>=300&&t<=399&&r!=null}function lt(e){return zr.has(e.toLowerCase())}function te(e){return Ir.has(e.toLowerCase())}async function Yt(e,t,r,n,a,s){for(let i=0;i<r.length;i++){let u=r[i],c=t[i];if(!c)continue;let b=e.find(v=>v.route.id===c.route.id),h=b!=null&&!Tt(b,c)&&(s&&s[c.route.id])!==void 0;if(pe(u)&&(a||h)){let v=n[i];O(v,"Expected an AbortSignal for revalidating fetcher deferred result"),await Jt(u,v,a).then(w=>{w&&(r[i]=w||r[i])})}}}async function Jt(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:z.data,data:e.deferredData.unwrappedData}}catch(a){return{type:z.error,error:a}}return{type:z.data,data:e.deferredData.data}}}function st(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Oe(e,t){let r=typeof t=="string"?ae(t).search:t.search;if(e[e.length-1].route.index&&st(r||""))return e[e.length-1];let n=bt(e);return n[n.length-1]}function Gt(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:s,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function dt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Qr(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ae(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zr(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ge(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qr(e,t){try{let r=e.sessionStorage.getItem(xt);if(r){let n=JSON.parse(r);for(let[a,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function en(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(xt,JSON.stringify(r))}catch(n){le(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}}}]);})();

//# sourceMappingURL=module-remix-run.12cff3e2.js.map