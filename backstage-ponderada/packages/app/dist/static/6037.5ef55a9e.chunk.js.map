{"version":3,"file":"static/6037.5ef55a9e.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-catalog/dist/esm/LinksGridList-Cm-4R9mq.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/esm/AboutCard-DxbQJUXT.esm.js","webpack://app/../../node_modules/@material-ui/icons/Cached.js"],"sourcesContent":["import ImageList from '@material-ui/core/ImageList';\nimport ImageListItem from '@material-ui/core/ImageListItem';\nimport React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport { Link } from '@backstage/core-components';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nconst useStyles = makeStyles({\n  svgIcon: {\n    display: \"inline-block\",\n    \"& svg\": {\n      display: \"inline-block\",\n      fontSize: \"inherit\",\n      verticalAlign: \"baseline\"\n    }\n  }\n});\nfunction IconLink(props) {\n  const { href, text, Icon } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Box, { display: \"flex\" }, /* @__PURE__ */ React.createElement(Box, { mr: 1, className: classes.svgIcon }, /* @__PURE__ */ React.createElement(Typography, { component: \"div\" }, Icon ? /* @__PURE__ */ React.createElement(Icon, null) : /* @__PURE__ */ React.createElement(LanguageIcon, null))), /* @__PURE__ */ React.createElement(Box, { flexGrow: \"1\" }, /* @__PURE__ */ React.createElement(Link, { to: href, target: \"_blank\", rel: \"noopener\" }, text || href)));\n}\n\nconst colDefaults = {\n  xs: 1,\n  sm: 1,\n  md: 1,\n  lg: 2,\n  xl: 3\n};\nfunction useDynamicColumns(cols) {\n  var _a, _b;\n  const matches = [\n    useMediaQuery((theme) => theme.breakpoints.up(\"xl\")) ? \"xl\" : null,\n    useMediaQuery((theme) => theme.breakpoints.up(\"lg\")) ? \"lg\" : null,\n    useMediaQuery((theme) => theme.breakpoints.up(\"md\")) ? \"md\" : null,\n    useMediaQuery((theme) => theme.breakpoints.up(\"sm\")) ? \"sm\" : null,\n    useMediaQuery((theme) => theme.breakpoints.up(\"xs\")) ? \"xs\" : null\n  ];\n  let numOfCols = 1;\n  if (typeof cols === \"number\") {\n    numOfCols = cols;\n  } else {\n    const breakpoint = (_a = matches.find((k) => k !== null)) != null ? _a : \"xs\";\n    numOfCols = (_b = cols == null ? void 0 : cols[breakpoint]) != null ? _b : colDefaults[breakpoint];\n  }\n  return numOfCols;\n}\n\nfunction LinksGridList(props) {\n  const { items, cols = void 0 } = props;\n  const numOfCols = useDynamicColumns(cols);\n  return /* @__PURE__ */ React.createElement(ImageList, { rowHeight: \"auto\", cols: numOfCols }, items.map(({ text, href, Icon }, i) => /* @__PURE__ */ React.createElement(ImageListItem, { key: i }, /* @__PURE__ */ React.createElement(IconLink, { href, text: text != null ? text : href, Icon }))));\n}\n\nexport { LinksGridList as L };\n//# sourceMappingURL=LinksGridList-Cm-4R9mq.esm.js.map\n","import { RELATION_PART_OF, RELATION_OWNED_BY, getEntitySourceLocation, parseEntityRef, ANNOTATION_EDIT_URL, DEFAULT_NAMESPACE, ANNOTATION_LOCATION, stringifyEntityRef } from '@backstage/catalog-model';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MarkdownContent, Link, AppIcon, HeaderIconLinkRow } from '@backstage/core-components';\nimport React, { useCallback } from 'react';\nimport { scmIntegrationsApiRef, ScmIntegrationIcon } from '@backstage/integration-react';\nimport { useElementFilter, useApi, useApp, alertApiRef, errorApiRef, useRouteRef } from '@backstage/core-plugin-api';\nimport { getEntityRelations, EntityRefLinks, catalogApiRef, useEntity, getEntitySourceLocation as getEntitySourceLocation$1 } from '@backstage/plugin-catalog-react';\nimport { v as viewTechDocRouteRef, a as createFromTemplateRouteRef } from './routes-D5H5grpG.esm.js';\nimport Chip from '@material-ui/core/Chip';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { L as LinksGridList } from './LinksGridList-Cm-4R9mq.esm.js';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport CreateComponentIcon from '@material-ui/icons/AddCircleOutline';\nimport DocsIcon from '@material-ui/icons/Description';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { isTemplateEntityV1beta3 } from '@backstage/plugin-scaffolder-common';\nimport { useEntityPermission } from '@backstage/plugin-catalog-react/alpha';\nimport { catalogEntityRefreshPermission } from '@backstage/plugin-catalog-common/alpha';\nimport useAsync from 'react-use/lib/useAsync';\n\nconst useStyles$2 = makeStyles((theme) => ({\n  value: {\n    fontWeight: \"bold\",\n    overflow: \"hidden\",\n    lineHeight: \"24px\",\n    wordBreak: \"break-word\"\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: \"uppercase\",\n    fontSize: \"10px\",\n    fontWeight: \"bold\",\n    letterSpacing: 0.5,\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\"\n  }\n}));\nfunction AboutField(props) {\n  const { label, value, gridSizes, children } = props;\n  const classes = useStyles$2();\n  const childElements = useElementFilter(children, (c) => c.getElements());\n  const content = childElements.length > 0 ? childElements : /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", className: classes.value }, value || `unknown`);\n  return /* @__PURE__ */ React.createElement(Grid, { item: true, ...gridSizes }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h2\", className: classes.label }, label), content);\n}\n\nconst useStyles$1 = makeStyles({\n  description: {\n    wordBreak: \"break-word\"\n  }\n});\nfunction getLocationTargetHref(target, type, entitySourceLocation) {\n  if (type === \"url\" || target.includes(\"://\")) {\n    return target;\n  }\n  const srcLocationUrl = entitySourceLocation.type === \"file\" ? `file://${entitySourceLocation.target}` : entitySourceLocation.target;\n  if (type === \"file\" || entitySourceLocation.type === \"file\") {\n    return new URL(target, srcLocationUrl).href;\n  }\n  return srcLocationUrl;\n}\nfunction AboutContent(props) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const { entity } = props;\n  const classes = useStyles$1();\n  const isSystem = entity.kind.toLocaleLowerCase(\"en-US\") === \"system\";\n  const isResource = entity.kind.toLocaleLowerCase(\"en-US\") === \"resource\";\n  const isComponent = entity.kind.toLocaleLowerCase(\"en-US\") === \"component\";\n  const isAPI = entity.kind.toLocaleLowerCase(\"en-US\") === \"api\";\n  const isTemplate = entity.kind.toLocaleLowerCase(\"en-US\") === \"template\";\n  const isLocation = entity.kind.toLocaleLowerCase(\"en-US\") === \"location\";\n  const isGroup = entity.kind.toLocaleLowerCase(\"en-US\") === \"group\";\n  const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"system\"\n  });\n  const partOfComponentRelations = getEntityRelations(\n    entity,\n    RELATION_PART_OF,\n    {\n      kind: \"component\"\n    }\n  );\n  const partOfDomainRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"domain\"\n  });\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  let entitySourceLocation;\n  try {\n    entitySourceLocation = getEntitySourceLocation(entity);\n  } catch (e) {\n    entitySourceLocation = void 0;\n  }\n  return /* @__PURE__ */ React.createElement(Grid, { container: true }, /* @__PURE__ */ React.createElement(AboutField, { label: \"Description\", gridSizes: { xs: 12 } }, /* @__PURE__ */ React.createElement(\n    MarkdownContent,\n    {\n      className: classes.description,\n      content: ((_a = entity == null ? void 0 : entity.metadata) == null ? void 0 : _a.description) || \"No description\"\n    }\n  )), /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"Owner\",\n      value: \"No Owner\",\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    },\n    ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(EntityRefLinks, { entityRefs: ownedByRelations, defaultKind: \"group\" })\n  ), (isSystem || partOfDomainRelations.length > 0) && /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"Domain\",\n      value: \"No Domain\",\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    },\n    partOfDomainRelations.length > 0 && /* @__PURE__ */ React.createElement(\n      EntityRefLinks,\n      {\n        entityRefs: partOfDomainRelations,\n        defaultKind: \"domain\"\n      }\n    )\n  ), (isAPI || isComponent || isResource || partOfSystemRelations.length > 0) && /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"System\",\n      value: \"No System\",\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    },\n    partOfSystemRelations.length > 0 && /* @__PURE__ */ React.createElement(\n      EntityRefLinks,\n      {\n        entityRefs: partOfSystemRelations,\n        defaultKind: \"system\"\n      }\n    )\n  ), isComponent && partOfComponentRelations.length > 0 && /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"Parent Component\",\n      value: \"No Parent Component\",\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    },\n    /* @__PURE__ */ React.createElement(\n      EntityRefLinks,\n      {\n        entityRefs: partOfComponentRelations,\n        defaultKind: \"component\"\n      }\n    )\n  ), (isAPI || isComponent || isResource || isTemplate || isGroup || isLocation || typeof ((_b = entity == null ? void 0 : entity.spec) == null ? void 0 : _b.type) === \"string\") && /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"Type\",\n      value: (_c = entity == null ? void 0 : entity.spec) == null ? void 0 : _c.type,\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    }\n  ), (isAPI || isComponent || typeof ((_d = entity == null ? void 0 : entity.spec) == null ? void 0 : _d.lifecycle) === \"string\") && /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"Lifecycle\",\n      value: (_e = entity == null ? void 0 : entity.spec) == null ? void 0 : _e.lifecycle,\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    }\n  ), /* @__PURE__ */ React.createElement(\n    AboutField,\n    {\n      label: \"Tags\",\n      value: \"No Tags\",\n      gridSizes: { xs: 12, sm: 6, lg: 4 }\n    },\n    (((_f = entity == null ? void 0 : entity.metadata) == null ? void 0 : _f.tags) || []).map((t) => /* @__PURE__ */ React.createElement(Chip, { key: t, size: \"small\", label: t }))\n  ), isLocation && (((_g = entity == null ? void 0 : entity.spec) == null ? void 0 : _g.targets) || ((_h = entity == null ? void 0 : entity.spec) == null ? void 0 : _h.target)) && /* @__PURE__ */ React.createElement(AboutField, { label: \"Targets\", gridSizes: { xs: 12 } }, /* @__PURE__ */ React.createElement(\n    LinksGridList,\n    {\n      cols: 1,\n      items: (entity.spec.targets || [entity.spec.target]).map((target) => target).map((target) => {\n        var _a2;\n        return {\n          text: target,\n          href: getLocationTargetHref(\n            target,\n            ((_a2 = entity == null ? void 0 : entity.spec) == null ? void 0 : _a2.type) || \"unknown\",\n            entitySourceLocation\n          )\n        };\n      })\n    }\n  )));\n}\n\nconst SOURCE_TEMPLATE_ANNOTATION = \"backstage.io/source-template\";\nconst useSourceTemplateCompoundEntityRef = (entity) => {\n  const catalogApi = useApi(catalogApiRef);\n  const { value: sourceTemplateRef } = useAsync(async () => {\n    var _a;\n    const refCandidate = (_a = entity.metadata.annotations) == null ? void 0 : _a[SOURCE_TEMPLATE_ANNOTATION];\n    let compoundRefCandidate;\n    if (!refCandidate) {\n      return void 0;\n    }\n    try {\n      const template = await catalogApi.getEntityByRef(refCandidate);\n      compoundRefCandidate = parseEntityRef(refCandidate);\n      return template !== void 0 ? compoundRefCandidate : void 0;\n    } catch {\n      return void 0;\n    }\n  }, [catalogApi, entity]);\n  return sourceTemplateRef;\n};\n\nconst TECHDOCS_ANNOTATION = \"backstage.io/techdocs-ref\";\nconst TECHDOCS_EXTERNAL_ANNOTATION = \"backstage.io/techdocs-entity\";\nconst useStyles = makeStyles({\n  gridItemCard: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"calc(100% - 10px)\",\n    // for pages without content header\n    marginBottom: \"10px\"\n  },\n  fullHeightCard: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100%\"\n  },\n  gridItemCardContent: {\n    flex: 1\n  },\n  fullHeightCardContent: {\n    flex: 1\n  }\n});\nfunction AboutCard(props) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const { variant } = props;\n  const app = useApp();\n  const classes = useStyles();\n  const { entity } = useEntity();\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n  const errorApi = useApi(errorApiRef);\n  const viewTechdocLink = useRouteRef(viewTechDocRouteRef);\n  const templateRoute = useRouteRef(createFromTemplateRouteRef);\n  const sourceTemplateRef = useSourceTemplateCompoundEntityRef(entity);\n  const { allowed: canRefresh } = useEntityPermission(\n    catalogEntityRefreshPermission\n  );\n  const entitySourceLocation = getEntitySourceLocation$1(\n    entity,\n    scmIntegrationsApi\n  );\n  const entityMetadataEditUrl = (_a = entity.metadata.annotations) == null ? void 0 : _a[ANNOTATION_EDIT_URL];\n  let techdocsRef;\n  if ((_b = entity.metadata.annotations) == null ? void 0 : _b[TECHDOCS_EXTERNAL_ANNOTATION]) {\n    try {\n      techdocsRef = parseEntityRef(\n        (_c = entity.metadata.annotations) == null ? void 0 : _c[TECHDOCS_EXTERNAL_ANNOTATION]\n      );\n    } catch {\n      techdocsRef = void 0;\n    }\n  }\n  const viewInSource = {\n    label: \"View Source\",\n    disabled: !entitySourceLocation,\n    icon: /* @__PURE__ */ React.createElement(ScmIntegrationIcon, { type: entitySourceLocation == null ? void 0 : entitySourceLocation.integrationType }),\n    href: entitySourceLocation == null ? void 0 : entitySourceLocation.locationTargetUrl\n  };\n  const viewInTechDocs = {\n    label: \"View TechDocs\",\n    disabled: !(((_d = entity.metadata.annotations) == null ? void 0 : _d[TECHDOCS_ANNOTATION]) || ((_e = entity.metadata.annotations) == null ? void 0 : _e[TECHDOCS_EXTERNAL_ANNOTATION])) || !viewTechdocLink,\n    icon: /* @__PURE__ */ React.createElement(DocsIcon, null),\n    href: viewTechdocLink && (techdocsRef ? viewTechdocLink({\n      namespace: techdocsRef.namespace || DEFAULT_NAMESPACE,\n      kind: techdocsRef.kind,\n      name: techdocsRef.name\n    }) : viewTechdocLink({\n      namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n      kind: entity.kind,\n      name: entity.metadata.name\n    }))\n  };\n  const subHeaderLinks = [viewInSource, viewInTechDocs];\n  if (isTemplateEntityV1beta3(entity)) {\n    const Icon = (_f = app.getSystemIcon(\"scaffolder\")) != null ? _f : CreateComponentIcon;\n    const launchTemplate = {\n      label: \"Launch Template\",\n      icon: /* @__PURE__ */ React.createElement(Icon, null),\n      disabled: !templateRoute,\n      href: templateRoute && templateRoute({\n        templateName: entity.metadata.name,\n        namespace: entity.metadata.namespace || DEFAULT_NAMESPACE\n      })\n    };\n    subHeaderLinks.push(launchTemplate);\n  }\n  let cardClass = \"\";\n  if (variant === \"gridItem\") {\n    cardClass = classes.gridItemCard;\n  } else if (variant === \"fullHeight\") {\n    cardClass = classes.fullHeightCard;\n  }\n  let cardContentClass = \"\";\n  if (variant === \"gridItem\") {\n    cardContentClass = classes.gridItemCardContent;\n  } else if (variant === \"fullHeight\") {\n    cardContentClass = classes.fullHeightCardContent;\n  }\n  const entityLocation = (_g = entity.metadata.annotations) == null ? void 0 : _g[ANNOTATION_LOCATION];\n  const allowRefresh = (entityLocation == null ? void 0 : entityLocation.startsWith(\"url:\")) || (entityLocation == null ? void 0 : entityLocation.startsWith(\"file:\"));\n  const refreshEntity = useCallback(async () => {\n    try {\n      await catalogApi.refreshEntity(stringifyEntityRef(entity));\n      alertApi.post({\n        message: \"Refresh scheduled\",\n        severity: \"info\",\n        display: \"transient\"\n      });\n    } catch (e) {\n      errorApi.post(e);\n    }\n  }, [catalogApi, alertApi, errorApi, entity]);\n  return /* @__PURE__ */ React.createElement(Card, { className: cardClass }, /* @__PURE__ */ React.createElement(\n    CardHeader,\n    {\n      title: \"About\",\n      action: /* @__PURE__ */ React.createElement(React.Fragment, null, allowRefresh && canRefresh && /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          \"aria-label\": \"Refresh\",\n          title: \"Schedule entity refresh\",\n          onClick: refreshEntity\n        },\n        /* @__PURE__ */ React.createElement(CachedIcon, null)\n      ), /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          component: Link,\n          \"aria-label\": \"Edit\",\n          disabled: !entityMetadataEditUrl,\n          title: \"Edit Metadata\",\n          to: entityMetadataEditUrl != null ? entityMetadataEditUrl : \"#\"\n        },\n        /* @__PURE__ */ React.createElement(EditIcon, null)\n      ), sourceTemplateRef && templateRoute && /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          component: Link,\n          title: \"Create something similar\",\n          to: templateRoute({\n            namespace: sourceTemplateRef.namespace,\n            templateName: sourceTemplateRef.name\n          })\n        },\n        /* @__PURE__ */ React.createElement(AppIcon, { id: \"scaffolder\" })\n      )),\n      subheader: /* @__PURE__ */ React.createElement(HeaderIconLinkRow, { links: subHeaderLinks })\n    }\n  ), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, { className: cardContentClass }, /* @__PURE__ */ React.createElement(AboutContent, { entity })));\n}\n\nexport { AboutCard as A, AboutContent as a, AboutField as b };\n//# sourceMappingURL=AboutCard-DxbQJUXT.esm.js.map\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"\n}), 'Cached');\n\nexports.default = _default;"],"names":["useStyles","IconLink","props","href","text","Icon","classes","colDefaults","useDynamicColumns","cols","_a","_b","matches","theme","numOfCols","breakpoint","k","LinksGridList","items","i","useStyles$2","makeStyles","AboutField","label","value","gridSizes","children","childElements","c","content","Typography","Grid","useStyles$1","getLocationTargetHref","target","type","entitySourceLocation","srcLocationUrl","AboutContent","_c","_d","_e","_f","_g","_h","entity","isSystem","isResource","isComponent","isAPI","isTemplate","isLocation","isGroup","partOfSystemRelations","partOfComponentRelations","partOfDomainRelations","ownedByRelations","t","Chip","_a2","SOURCE_TEMPLATE_ANNOTATION","useSourceTemplateCompoundEntityRef","catalogApi","sourceTemplateRef","useAsync","refCandidate","compoundRefCandidate","template","TECHDOCS_ANNOTATION","TECHDOCS_EXTERNAL_ANNOTATION","AboutCard","variant","app","scmIntegrationsApi","alertApi","errorApi","viewTechdocLink","templateRoute","canRefresh","entityMetadataEditUrl","techdocsRef","viewInSource","viewInTechDocs","subHeaderLinks","launchTemplate","cardClass","cardContentClass","entityLocation","allowRefresh","refreshEntity","e","Card","CardHeader","IconButton","Cached","Edit","Divider","CardContent","_interopRequireDefault","_interopRequireWildcard","exports","React","_createSvgIcon","_default"],"sourceRoot":""}